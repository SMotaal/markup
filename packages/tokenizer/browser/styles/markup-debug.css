@media only screen {
  .markup-line .markup.comment,
  .markup-line .markup.in-comment,
  .markup-line .markup.whitespace {
    --ring: var(--markup-whitespaces, var(--markup-neutral, #999));
  }

  .markup-line {
    --widget: #000a;
  }

  .dark-mode .markup-line {
    --widget: #fffa;
  }

  .markup-line > .markup {
    --padding: 1px;
    --debug: var(--color, var(--markup-neutral, #999));
    --ring: var(--debug, var(--markup-neutral, #999));
    --bezel: var(--markup-contrast, white);
    margin: calc(-1 * var(--padding, 2px)) calc(-2 * var(--padding, 2px));
    border-radius: 1ch;
    border: calc(2 * var(--padding, 2px)) solid transparent;
    cursor: text;
  }

  .markup-line > .markup.fault {
    --bezel: var(--markup-faults-background, #f21);
    --debug: var(--markup-faults-background, #f21);
  }

  .markup-wrapper,
  .markup-wrapper * {
    /* box-sizing: content-box; */
    /* overflow-y: visible; */
  }

  .marker + .markup-line {
    background: #9991;
    /* border-radius: 4px; */
    /* border: 1px solid #9991; */
    padding: 3px;
    margin: -3px;
  }

  /* .markup-line-numbers .markup-line:focus-within::before, */
  .marked > .marker + .markup-line::before,
  .markup-line-numbers .markup-wrapper:not(.marked) > .markup-line:hover::before {
    background-color: var(--widge, #9996);
    color: var(--markup-contrast);
    /* padding: 1px; */
    /* margin-inline-start: calc(-1 * var(--markup-gutter) - 2px); */
    /* margin-block-start: -1px; */
    opacity: 0.825;
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;
  }

  /* .markup-line > .markup:focus, */
  .marked > .markup-line > .marker + .markup,
  .markup-wrapper:not(.marked) > .markup-line > .markup:hover {
    background-color: var(--bezel, white);
    /* background-color: var(--markup-contrast, white); */
    box-shadow: 0 0 0 2px var(--bezel, white), 0 3px 10px -2px #0006;
    position: relative;
    -webkit-box-decoration-break: clone;
    box-decoration-break: slice;
    z-index: 2;
  }

  /* .markup-line > .markup:focus::before, */
  .marked > .markup-line > .marker + .markup::before,
  .markup-wrapper:not(.marked) > .markup-line > .markup:hover::before {
    --padding: 1.5px;
    /* display: grid; */
    position: absolute;
    pointer-events: none;
    content: attr(class);
    line-height: initial;
    font-weight: initial;
    font-style: initial;
    font: initial;
    font-size: 75%;
    font-family: inherit;
    white-space: normal;
    background: var(--widget, #000a);
    color: var(--markup-shadow, white);
    text-shadow: 0 0.5px 0.5px var(--widget, #000a);
    box-shadow: inset 0 0 50px var(--widget, #000a), inset 0 0 75px var(--ring, currentColor), 0 0 5px -2.5px #0006;
    border-radius: 1ch;
    border: none;
    border-bottom: 1ch solid var(--ring, currentColor);
    padding: calc(3 * var(--padding, 2px)) calc(6 * var(--padding, 2px));
    left: 50%;
    will-change: transform transition;
    transform: translateX(-50%);
    text-align: center;
    width: max-content;
    min-width: 10em;
    max-width: -webkit-fill-available;
    max-width: fill-available;
    bottom: calc(100% + 0.5ch + -2 * var(--padding, 2px));
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;
  }

  .markup.fault::after {
    float: right;
    width: 1.5em;
    height: 1.5em;
    overflow: hidden;
    contain: strict;
    margin: 0 2px 0 0;
    padding: 0;

    order: -1;

    content: '!';

    opacity: 0.9;
    color: var(--markup-faults, white);
    background-color: var(--markup-faults-background, #f12);
    border: 2px solid white /* var(--markup-contrast, #000) */;
    border-radius: 50%;
    text-shadow: 0 1px 3px #000c;
    box-shadow: 0 1px 3px -1px var(--markup-color, #000), inset 0 0 2px #0009;

    font-weight: 800;
    font-style: normal;
    font-size: 75%;
    line-height: 150%;
    vertical-align: initial;
    text-align: center;
  }

  /* (element => element && (element.scrollIntoView(), inspect(element)))(document.querySelector('.fault')) */
}
